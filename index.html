<!-- Real-Time Chat Page with Firebase (Usernames Added) -->
<!DOCTYPE html>
<html>
<head>
    <title>Firebase Chat</title>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";

        // Firebase configuration (Replace with your own config)
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            databaseURL: "https://YOUR_PROJECT_ID.firebaseio.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const messagesRef = ref(db, "messages");

        window.sendMessage = function () {
            var username = document.getElementById("username").value.trim();
            var messageInput = document.getElementById("message");
            var message = messageInput.value.trim();
            
            if (username === "" || message === "") return;
            
            push(messagesRef, { username: username, text: message });
            messageInput.value = "";
        };

        onChildAdded(messagesRef, (snapshot) => {
            var chatBox = document.getElementById("chat-box");
            var msgElement = document.createElement("p");
            var data = snapshot.val();
            msgElement.innerHTML = `<strong>${data.username}:</strong> ${data.text}`;
            chatBox.appendChild(msgElement);
            chatBox.scrollTop = chatBox.scrollHeight;
        });
    </script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #chat-box { width: 300px; height: 400px; border: 1px solid #ccc; overflow-y: scroll; margin: auto; padding: 10px; }
        #username, #message { width: 80%; margin-top: 5px; }
    </style>
</head>
<body>
    <h2>Real-Time Chat</h2>
    <input type="text" id="username" placeholder="Enter your name">
    <div id="chat-box"></div>
    <input type="text" id="message" placeholder="Type a message...">
    <button onclick="sendMessage()">Send</button>
</body>
</html>
